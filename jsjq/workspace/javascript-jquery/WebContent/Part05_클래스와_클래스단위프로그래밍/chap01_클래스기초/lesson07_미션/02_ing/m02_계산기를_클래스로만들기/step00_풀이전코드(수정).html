<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>계산기 미션</title>

    <style>
        #output {
            border: 1px solid #000;
            width: 400px;
            height: 100px;
            font-size: 11pt;
        }
    </style>

    <script src="../../../libs/jquery-1.11.0.min.js"></script>

    <script>
        /*
         미션02 계산기를 클래스로 만들기
         이번에는 계산기를 클래스로 만들어 보겠습니다. 요구사항에 맞게 미션을 풀어주세요.

         요구사항:
             1. 두 개의 숫자와 사칙연산자 하나를 입력받은 후 확인 버튼을 클릭하면 계산된 결과를 출력 영역에 표현합니다.
             2. 클래스는 prototype 방식으로 만들어주세요.

         */
         
       //클래스 생성
 	   	function Calculator(){
       	 	
        	//프로퍼티 선언
        	this.$output = null;
			this.$val1 = null;
			this.$val2 = null;
			this.$op = null;
			
			//요소 초기화 메서드 호출
			this.init();
			//이벤트 초기화 메서드 호출
			this.initEvent();
         }
         
    	//요소 초기화 메서드
 	    Calculator.prototype.init = function(){
    		
 	    	this.$output = $('#output');
			this.$val1 = $('#val1');
			this.$val2 = $('#val2');
			this.$op = $('#op');
    		//** 초기화 하는 시점(이 메서드가 호출되는 시점)에는 input객체에 입력된 값이 없으므로
    		// $('#val1').val() 과 같이 초기화 하면 안된다. 입력값이 저장되지않음.
    		
    		// 확인 버튼을 클릭하는 시점에 입력값을 받아와야함..
    	}
    
 	 	//이벤트 초기화 메서드
 	    Calculator.prototype.initEvent = function(){
 		 	var objThis = this;
 	    	//확인 버튼 클릭 이벤트 핸들러
 	 		$('#cal').click(function(){
 	 			objThis.exePrint();
 	 		});
 		}
    
         
 	   Calculator.prototype.exePrint = function(){
 		   
       	 	var val1 = Number(this.$val1.val());  
       	 	var val2 = Number(this.$val2.val());
       		// 그냥 + 연산 할 경우, val1,val2값을 문자로 인식하기때문에 형변환 후 + 연산
     		// parseInt()함수를 사용하여 형변환해도 무방! 
       	 	var op = this.$op.val();
       	 	
       	 	this.print(op,val1,val2);
 		   
 	   }
 	 	
    
         Calculator.prototype.print = function(op,val1,val2){
         	
        	 var result = '';
        	 
         	/* this.clear(); //기존 내용 제거 */
        	 
         	 if(op == '+'){
         		result = val1 + val2; 
         	 }else if(op == '-'){
         		result = val1 - val2;
         	 }else if(op == '*'){
         		result = val1 * val2; 
         	 }else if(op == '/'){
				result = val1 / val2;         		 
         	 }
         	 
         	this.$output.html(result);
         	 
         }
         
         ///없어도 됨.
 		/* Calculator.prototype.clear = function(){
 			this.$output.html('');
         } */
         
         
        $(document).ready(function() {
			
        	var cal = new Calculator();
        	
        });
        
    
    	
    
</script>
</head>

<body>
        
<div>
    숫자1:<input id="val1">, 연산자:<input id="op">, 숫자2:<input id="val2"><button id="cal">확인</button>

<div id="output">
    여기에 결과를 출력 해주세요.
</div>
    </body>
</html>
